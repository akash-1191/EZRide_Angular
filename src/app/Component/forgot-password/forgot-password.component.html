<!-- Loader Spinner -->
<!-- <div *ngIf="loading" class="fixed inset-0 flex items-center justify-center bg-black/30 bg-opacity-50 z-50">
  <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white"></div>
</div> -->

<div class="loading-window" *ngIf="loading">
    <div class="car">
        <div class="strike"></div>
        <div class="strike strike2"></div>
        <div class="strike strike3"></div>
        <div class="strike strike4"></div>
        <div class="strike strike5"></div>
        <div class="car-detail spoiler"></div>
        <div class="car-detail back"></div>
        <div class="car-detail center"></div>
        <div class="car-detail center1"></div>
        <div class="car-detail front"></div>
        <div class="car-detail wheel"></div>
        <div class="car-detail wheel wheel2"></div>
    </div>

    <div class="text">
        <span>Loading</span><span class = "dots">...</span>
    </div>
</div>


<section class="bgimagelogin h-screen flex items-center justify-center px-4">
  <form [formGroup]="forgotForm" (ngSubmit)="submit()"
    class="relative animate-fade-in backdrop-blur-lg bg-white/10 border border-white/20 shadow-2xl rounded-3xl p-8 w-full max-w-sm transition-all duration-300 hover:shadow-[0_0_30px_rgba(255,255,255,0.2)]">

    <!-- Logo -->
    <div class="flex justify-center mb-6">
      <img src="../../../assets/image/LOGO.png" alt="Logo" class="w-16 h-16 rounded-full shadow-md" />
    </div>

    <!-- Title -->
    <h2 class="text-3xl font-bold text-center mb-3 tracking-wide text-white drop-shadow-lg">
      Forgot Password
    </h2>

    <p class="text-center text-sm text-gray-300 mb-6">
      Enter your registered email to receive reset link
    </p>

    <!-- Email -->
    <div class="mb-6">
      <input type="email" formControlName="email" autofocus
        class="w-full px-4 py-3 rounded-lg bg-white/20 text-white placeholder-white/70
        focus:outline-none focus:ring-2 focus:ring-white/60"
        placeholder="Email" />

      <span class="text-red-500 text-sm"
        *ngIf="forgotForm.get('email')?.errors?.['required'] && (forgotForm.get('email')?.dirty || forgotForm.get('email')?.touched)">
        Email is required
      </span>

      <span class="text-red-500 text-sm"
        *ngIf="forgotForm.get('email')?.errors?.['email'] && (forgotForm.get('email')?.dirty || forgotForm.get('email')?.touched)">
        Invalid email
      </span>
    </div>

    <!-- Submit Button -->
    <button type="submit" [disabled]="forgotForm.invalid"
      [ngClass]="forgotForm.invalid 
        ? 'bg-gray-400 cursor-not-allowed' 
        : 'bg-gradient-to-r from-[#0f2027] via-[#203a43] to-[#2c5364] hover:brightness-110 cursor-pointer'"
      class="w-full py-2 rounded-lg text-white font-semibold transition-all duration-300">
      Send Reset Link
    </button>

    <!-- Success Message -->
    <p *ngIf="message" class="text-green-400 text-sm text-center mt-4">
      {{ message }}
    </p>

    <!-- Back to Login -->
    <div class="mt-5 text-center text-sm text-white">
      <p>
        Remember your password?
        <a routerLink="/login"
          class="font-semibold underline hover:text-gray-300 transition cursor-pointer">
          Login
        </a>
      </p>
    </div>

  </form>
</section>
